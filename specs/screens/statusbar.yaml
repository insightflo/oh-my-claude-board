version: "2.0"

screen:
  name: 상태바
  route: S-06
  layout: fixed-bottom
  auth: false

data_requirements:
  - resource: session
    needs: [overall_progress, total_tasks, completed_tasks, failed_tasks, uptime]

  - resource: tasks
    needs: [task_status]

components:
  - id: progress_summary
    type: stat-card
    position: footer
    function: "[67%] 8/12 tasks" 형태 전체 진행률
    data_source:
      resource: session
    events: []

  - id: status_counters
    type: stat-card
    position: footer
    function: "✔6 ◀2 ✘1 ⊘3" 상태별 카운터
    data_source:
      resource: tasks
    events: []

  - id: uptime_display
    type: detail
    position: footer
    function: "uptime: 00:45:12" 세션 경과 시간
    data_source:
      resource: session
    events: []

  - id: help_hint
    type: detail
    position: footer
    function: "?:help" 도움말 단축키 힌트
    events: []

  - id: warning_icon
    type: alert
    position: footer
    function: 파일 감시 에러 시 ⚠ 아이콘 표시
    events: []

connections:
  navigations: []
  shared_components: []

tests:
  - name: 진행률 표시
    when: 태스크 상태 변경
    then:
      - 진행률 퍼센트 업데이트
      - 상태별 카운터 업데이트

  - name: 경과 시간
    when: 매 초 tick
    then:
      - uptime 값 1초 증가

  - name: 경고 표시
    when: 파일 감시 에러
    then:
      - ⚠ 아이콘 표시
