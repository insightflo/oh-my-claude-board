version: "2.0"

screen:
  name: Claude Code 출력
  route: S-05
  layout: scroll-follow
  auth: false

data_requirements:
  - resource: hook_events
    needs: [timestamp, event_type, agent_id, tool_name]

components:
  - id: output_viewer
    type: list
    position: main
    function: Claude Code stdout/stderr 실시간 표시 (자동 스크롤)
    data_source:
      resource: hook_events
    events:
      - on: key:j
        do: 아래로 스크롤
      - on: key:k
        do: 위로 스크롤 (자동 스크롤 일시 중지)
      - on: key:f
        do: Follow 모드 토글 (자동 스크롤 활성/비활성)
      - on: new_output
        do: Follow 모드 활성 시 자동 하단 스크롤

connections:
  navigations: []

  shared_components: []

tests:
  - name: 실시간 출력
    when: Claude Code가 텍스트 출력
    then:
      - 우측 패널에 실시간 텍스트 표시
      - Follow 모드 시 자동 하단 스크롤

  - name: 스크롤 잠금
    when: 사용자가 위로 스크롤 (k 키)
    then:
      - 자동 스크롤 일시 중지
      - 하단에 "↓ Follow (f)" 힌트 표시

  - name: 빈 상태
    when: Claude Code 출력 없음
    then:
      - "Claude Code 출력 대기 중..." 표시
